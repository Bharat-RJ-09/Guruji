<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | NextEdu</title>
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sub-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.2s ease;
        }

        .sub-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .play-btn{
            background: #00f0ff;
            color: #000; 
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s ease;
        }

        .play-btn:hover { 
            box-shadow: 0 0 10px #008cff; 
            background-color: #008cff;
            transition: all 0.5s ease;
        }

    </style>
</head>

<body>
     
    <aside class="sidebar" id="sidebar">
        <div class="brand">
            <i class="fa-solid fa-graduation-cap"></i> Next<span>Edu</span>
        </div>

        <a href="dashboard.html" class="nav-item active"><i class="fa-solid fa-chart-pie"></i> Dashboard</a>
        <a href="leaderboard.html" class="nav-item"><i class="fa-solid fa-trophy"></i> Leaderboard</a>
        <a href="history.html" class="nav-item"><i class="fa-solid fa-clock-rotate-left"></i> History</a>

        <a href="wallet.html" class="nav-item"><i class="fa-solid fa-wallet"></i> Wallet</a>
        <a href="subscription.html" class="nav-item" style="color: #ffd700;"><i class="fa-solid fa-crown"></i>
            Upgrade</a>

        <a href="profile.html" class="nav-item"><i class="fa-solid fa-user-gear"></i> Profile</a>

        <div style="margin-top: auto;">
            <a href="#" onclick="logout()" class="nav-item" style="color: #ff4444;">
                <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
            </a>
            <br>
        </div>
    </aside>

    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <main class="main-content">

        <header class="header">
            <div style="display:flex; align-items:center; gap:15px;">
                <button class="menu-btn" onclick="toggleSidebar()"><i class="fa-solid fa-bars"></i></button>
                <div class="welcome">
                    <h1>Hello, <span id="welcomeName" style="color:var(--neon-blue);">Student</span> <span
                            class="wave-emoji">üëã</span></h1>
                    <p>Let's crack some exams today!</p>
                </div>
            </div>

            <div class="user-profile">
                <div class="avatar"><i class="fa-solid fa-user"></i></div>
                <span id="userDisplay" style="font-size: 0.9rem;">Loading...</span>
            </div>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <h3 id="stat-score">0</h3>
                <p>Total Points</p>
                <i class="fa-solid fa-star"
                    style="position:absolute; bottom:20px; right:20px; font-size:2rem; opacity:0.1;"></i>
            </div>
            <div class="stat-card">
                <h3 id="stat-played">0</h3>
                <p>Quizzes Played</p>
                <i class="fa-solid fa-gamepad"
                    style="position:absolute; bottom:20px; right:20px; font-size:2rem; opacity:0.1;"></i>
            </div>
            <div class="stat-card">
                <h3 id="stat-rank">--</h3>
                <p>Global Rank</p>
                <i class="fa-solid fa-trophy"
                    style="position:absolute; bottom:20px; right:20px; font-size:2rem; opacity:0.1;"></i>
            </div>
            <div class="stat-card" id="plan-card">
                <h3 id="stat-plan">LOADING...</h3>
                <p>Current Plan</p>
                <i class="fa-solid fa-id-card"
                    style="position:absolute; bottom:20px; right:20px; font-size:2rem; opacity:0.1;"></i>
            </div>
        </div>

        <h2 class="section-title">Start Practice</h2>

        <div class="subject-grid">

            <div class="subject-card" onclick="startQuiz('english')">
                <div class="subject-icon" style="color: #ff9f43;">üÖ∞Ô∏è</div>
                <h3>English Grammar</h3>
                <p>Tenses, Voice, Vocab</p>
                <button class="play-btn">Play Now</button>
            </div>

            <div class="subject-card" onclick="startQuiz('gk')">
                <div class="subject-icon" style="color: #00ffe1;">üïå</div>
                <h3>Rajasthan GK</h3>
                <p>History, Art, Culture</p>
                <button class="play-btn">Play Now</button>
            </div>

            <div class="subject-card" onclick="startQuiz('reasoning')">
                <div class="subject-icon" style="color: #bd00ff;">üß†</div>
                <h3>Reasoning</h3>
                <p>Logic, Series, Puzzles</p>
                <button class="play-btn">Play Now</button>
            </div>

            <div class="subject-card" onclick="startQuiz('maths')">
                <div class="subject-icon" style="color: #ff4757;">‚ûó</div>
                <h3>Mathematics</h3>
                <p>Algebra, Arithmetic</p>
                <button class="play-btn">Play Now</button>
            </div>

        </div>

        <h2 class="section-title" style="margin-top: 40px;">üõ†Ô∏è AI Tools</h2>
        <div class="subject-grid">
            <div class="subject-card" onclick="openGrammarModal()" style="border-color: #00f0ff;">
                <div class="subject-icon" style="color: #00f0ff;">‚ú®</div>
                <h3>Grammar Check</h3>
                <p>Correct Hindi or English Sentences instantly.</p>
                <button class="play-btn" >Try Now</button>
            </div>
        </div>


        <h2 class="section-title" style="margin-top: 50px;">üèÜ Target Exam Batches</h2>
        <div class="exam-grid">

            <div class="exam-card" onclick="openExamModal('bstc')">
                <span class="exam-badge">LIVE</span>
                <div class="exam-icon">üè´</div>
                <h3>BSTC / Pre-DElEd</h3>
                <p style="color:#888; font-size:0.9rem;">Teaching Aptitude, Hindi, English, GK</p>
            </div>

            <div class="exam-card" onclick="openExamModal('ptet')">
                <span class="exam-badge" style="background:#bd00ff;">POPULAR</span>
                <div class="exam-icon">üéì</div>
                <h3>PTET 2026</h3>
                <p style="color:#888; font-size:0.9rem;">B.Ed Entrance, Reasoning, GK</p>
            </div>

            <div class="exam-card" onclick="openExamModal('rpsc')">
                <span class="exam-badge" style="background:#00f0ff; color:#000;">PRO</span>
                <div class="exam-icon">üèõÔ∏è</div>
                <h3>RPSC Exams</h3>
                <p style="color:#888; font-size:0.9rem;">Rajasthan Police, LDC, Patwar</p>
            </div>

        </div>

        <div class="modal-overlay" id="examModal">
            <div class="modal-content">
                <h2 id="modalTitle">Select Subject</h2>
                <p style="color:#777; margin-bottom: 20px;">Choose a subject to start practicing</p>

                <div id="modalSubjects">
                </div>

                <button onclick="closeExamModal()"
                    style="margin-top: 20px; background: none; border: none; color: #777; cursor: pointer;">Close</button>
            </div>
        </div>

    </main>

    <div
        style="position:fixed; top:-20%; right:-10%; width:500px; height:500px; background:radial-gradient(circle, rgba(0,255,225,0.08), transparent 70%); border-radius:50%; pointer-events:none; z-index:-1; animation: float 10s infinite ease-in-out;">
    </div>

    <script src="assets/js/dashboard.js"></script>
    <script>
        // Sidebar Toggle
        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("active");
        }

        // Start Quiz Link
        function startQuiz(subject) {
            window.location.href = `quiz.html?sub=${subject}`;
        }

        // Exam Modal

        function openExamModal(exam) {
            const modal = document.getElementById('examModal');
            const list = document.getElementById('modalSubjects');
            const title = document.getElementById('modalTitle');

            title.innerText = exam.toUpperCase() + " Subjects";
            list.innerHTML = "";

            // Define Subjects per Exam
            const subjects = {
                'bstc': [
                    { id: 'teaching_aptitude', name: 'üë®‚Äçüè´ Teaching Aptitude' },
                    { id: 'gk', name: 'üïå Rajasthan GK' },
                    { id: 'hindi', name: 'üïâÔ∏è Hindi' },
                    { id: 'english', name: 'üÖ∞Ô∏è English' },
                    { id: 'reasoning', name: 'üß† Reasoning' }
                ],
                'ptet': [
                    { id: 'reasoning', name: 'üß† Reasoning' },
                    { id: 'teaching_aptitude', name: 'üë®‚Äçüè´ Teaching Aptitude' },
                    { id: 'gk', name: 'üåç General Awareness' },
                    { id: 'hindi', name: 'üïâÔ∏è Hindi' }
                ],
                'rpsc': [
                    { id: 'gk', name: 'üïå Rajasthan GK' },
                    { id: 'science', name: 'üî¨ General Science' },
                    { id: 'maths', name: '‚ûó Mathematics' }
                ]
            };

            // Generate Buttons
            if (subjects[exam]) {
                subjects[exam].forEach(sub => {
                    list.innerHTML += `<button class="sub-btn" onclick="startExamQuiz('${exam}', '${sub.id}')">
                    <span>${sub.name}</span> <i class="fa-solid fa-chevron-right"></i>
                </button>`;
                });
            }

            modal.classList.add('active');
        }

        function closeExamModal() {
            document.getElementById('examModal').classList.remove('active');
        }

        function startExamQuiz(exam, subject) {
            // Redirect to quiz page with BOTH exam and subject params
            window.location.href = `quiz.html?exam=${exam}&sub=${subject}`;
        }

    </script>

    <link rel="stylesheet" href="assets/css/ask_ai.css">

    <div class="ai-fab" onclick="toggleAI()">
        <i class="fa-solid fa-robot"></i>
    </div>

    <div class="ai-window" id="aiWindow">
        <div class="ai-header">
            <span>‚ú® Gemini AI Tutor</span>
            <span onclick="toggleAI()" style="cursor:pointer;">&times;</span>
        </div>
        <div class="ai-body" id="aiBody">
            <div class="msg ai">Hello! I am your AI Tutor. Ask me anything about your studies! üìö</div>
        </div>
        <div class="ai-footer">
            <input type="text" id="aiInput" class="ai-input" placeholder="Ask a doubt...">
            <button class="ai-send" onclick="askGemini()"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>
 


    <script src="assets/js/dashboard.js"></script>
    <script src="assets/js/ask_ai.js"></script>

    <div class="modal-overlay" id="grammarModal">
        <div class="modal-content" style="max-width: 500px;">
            <h2 style="margin-bottom: 15px;">‚ú® AI Grammar Check</h2>

            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                <button class="sub-btn active" id="btn-lang-en" onclick="setGrammarLang('English')"
                    style="flex:1; justify-content:center;">English üá¨üáß</button>
                <button class="sub-btn" id="btn-lang-hi" onclick="setGrammarLang('Hindi')"
                    style="flex:1; justify-content:center;">Hindi üáÆüá≥</button>
            </div>

            <textarea id="grammarInput" placeholder="Paste your text here..."
                style="width: 100%; height: 100px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 10px; border-radius: 8px; resize: none;"></textarea>

            <div id="grammarResult"
                style="margin-top: 15px; display: none; padding: 10px; background: rgba(0, 255, 225, 0.1); border-left: 3px solid #00f0ff; border-radius: 4px;">
                <small style="color: #00f0ff; display: block; margin-bottom: 5px;">Corrected:</small>
                <p id="grammarOutput" style="font-size: 0.95rem; line-height: 1.4;"></p>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button onclick="closeGrammarModal()"
                    style="flex: 1; padding: 10px; background: transparent; border: 1px solid #555; color: #aaa; border-radius: 8px; cursor: pointer;">Close</button>
                <button onclick="checkGrammar()" id="btn-check-grammar"
                    style="flex: 1; padding: 10px; background: #00f0ff; border: none; color: #000; font-weight: bold; border-radius: 8px; cursor: pointer;">Fix
                    Grammar ‚ú®</button>
            </div>
        </div>
    </div>

</body>

</html>
